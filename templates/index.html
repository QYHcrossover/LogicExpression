<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>逻辑表达式求值</title>
  <link rel="stylesheet" href="static/layui/css/layui.css" media="all">
  <script src="static/layui/layui.js"></script>
<!--   <link href="static/css/bootstrap.min.css" rel="stylesheet"> -->
  <script src="static/js/jquery.min.js"></script>
<!--   <script src="static/js/bootstrap.min.js"></script> -->
</head>
<body>
	<blockquote class="layui-elem-quote">
	 	该算法使用了双栈模拟逻辑表达式的求值，可以实现快速判断表达式是否是重言式或者矛盾式
	</blockquote>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
		<legend>输入表达式</legend>
		<br><br>
	<form class="layui-form" action="/" method="POST">
		<div class="layui-form-item">
	    	<label class="layui-form-label">初始表达式</label>
	    <div class="layui-input-block">
	    	<input type="text" name="expression" lay-verify="required" lay-reqtext="表达式值不能为空" autocomplete="off" placeholder="请输入初始表达式" class="layui-input" value={{ form.expression }}>
	    </div>
	  </div>
	  <div class="layui-form-item">
	    <label class="layui-form-label">附加条件</label> 
	    <div class="layui-input-block">
	    	<input type="text" name="addition" lay-verify="required" autocomplete="off" placeholder="等号赋值分号隔开;例如:a=0;b=1;c=0" class="layui-input" value={{ form.addition }}>
	    </div>
		</div>
		<div>
			<button type="submit" style="float:right;margin:3px" class="layui-btn layui-btn-lg">提交</button>
			<button type="button" style="float:right;margin:3px" class="layui-btn layui-btn-lg" onclick="(function(){ $('input').val('')})()">重置</button>
		</div>
	</form>
	</fieldset>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
		<legend>结论</legend>
		<br>
		<span style="float: left;display: block;padding: 9px 15px;font-weight: 500;font-size: larger;line-height: 20px;">{{ conclusion }}
		</span>
	</fieldset>
	<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
		<legend>真值表</legend>
		<br><br>
<!-- 		<table class="layui-hide" id="logic_result"></table> -->

	<table class="layui-table">
		<thead>
			<tr>
				{% for var in varss %}
					<th>{{var}}</th>
				{% endfor %}
				{% if varss %}
				<th>result</th>
				{% endif %}
			</tr>
		</thead>
		<tbody>
			{% for index in range(logic_table|length) %}
				<tr>
					{% for item in logic_table[index]%}
						<td>{{ item }}</td>
					{% endfor %}
					<td>{{ results[index]}}</td>
				</tr>
			{% endfor %}	
		</tbody>
	</table>
	</fieldset>
</body>
<script>
	{% if not aaa %}
		alert("表达式错误")
	{% endif %}
</script>

